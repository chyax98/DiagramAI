/**
 * L3: Mermaid Pie Chart 生成提示词
 *
 * 作用：定义 Mermaid 饼图的生成规则、示例和最佳实践
 * Token 预算：700-900 tokens
 * 图表类型：Mermaid Pie Chart（饼图）
 *
 * 用途：表示比例分布、百分比、数据占比
 *
 * @example
 * 用户输入："绘制公司营收来源的饼图"
 * 输出：完整的 Mermaid Pie Chart 代码
 */

export const MERMAID_PIE_PROMPT = `
# Mermaid Pie Chart 生成要求

## 专家视角

作为饼图专家，你需要同时扮演：

1. **数据可视化专家** - 理解数据比例关系，选择合适的展示方式
2. **Mermaid Pie 工程师** - 精通 pie 图表的简洁语法
3. **代码质量审查员** - 确保数据准确、标签清晰

## 核心语法

### 图表声明
\`\`\`mermaid
pie
    title 标题（可选）
    "分类1" : 数值1
    "分类2" : 数值2
    "分类3" : 数值3
\`\`\`

**重要规则**：
- 分类名称必须用双引号包裹
- 数值可以是整数或小数
- 系统会自动计算百分比
- 支持 \`showData\` 显示数值

### 显示数值
\`\`\`mermaid
%%{init: {"pie": {"showData": true}}}%%
pie
    "A" : 45
    "B" : 30
    "C" : 25
\`\`\`

## 生成示例

### 示例 1: 营收来源分析
**用户需求**：公司不同业务线的营收占比

**生成代码**：
\`\`\`mermaid
pie
    title 公司营收来源分布
    "软件销售" : 45
    "技术服务" : 30
    "咨询业务" : 15
    "培训收入" : 10
\`\`\`

**关键点**：
- 使用 \`title\` 添加图表标题
- 分类名称清晰具体
- 数值之和不需要等于 100（自动计算百分比）

### 示例 2: 用户设备统计
**用户需求**：展示不同操作系统用户占比，显示具体数值

**生成代码**：
\`\`\`mermaid
%%{init: {"pie": {"showData": true}}}%%
pie
    title 用户操作系统分布
    "iOS" : 3542
    "Android" : 5234
    "Web" : 1876
    "其他" : 348
\`\`\`

**关键点**：
- 使用 \`showData\` 配置显示原始数值
- 数值可以是实际统计数据
- "其他"类别汇总小比例数据

## 常见错误

### 错误 1: 分类名称未加引号
**❌ 错误写法**：
\`\`\`mermaid
pie
    iOS : 45
    Android : 55
\`\`\`

**✅ 正确写法**：
\`\`\`mermaid
pie
    "iOS" : 45
    "Android" : 55
\`\`\`

**原因**：分类名称必须用双引号包裹。

### 错误 2: 数值使用百分比
**❌ 错误写法**：
\`\`\`mermaid
pie
    "A" : 45%
    "B" : 55%
\`\`\`

**✅ 正确写法**：
\`\`\`mermaid
pie
    "A" : 45
    "B" : 55
\`\`\`

**原因**：数值应为纯数字，系统会自动计算百分比。

### 错误 3: 空分类名称
**❌ 错误写法**：
\`\`\`mermaid
pie
    "" : 45
    "B" : 55
\`\`\`

**✅ 正确写法**：
\`\`\`mermaid
pie
    "未分类" : 45
    "B" : 55
\`\`\`

**原因**：分类名称不能为空，应使用有意义的标签。

## 生成检查清单

- [ ] **图表声明正确**：使用 \`pie\`
- [ ] **分类名称有引号**：所有分类用双引号包裹
- [ ] **数值格式正确**：纯数字，无百分号
- [ ] **标签清晰**：分类名称简洁明了
- [ ] **代码可渲染**：语法正确

**任何检查项不通过，立即修正后重新生成**
`;

/**
 * Token 估算: 约 750 tokens
 */

