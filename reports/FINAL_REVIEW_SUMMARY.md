# ğŸ‰ Prompt ä¿®å¤æœ€ç»ˆå®¡æŸ¥ - æ‰§è¡Œæ‘˜è¦

> **æ—¥æœŸ**: 2025-10-14
> **çŠ¶æ€**: âœ… **å…¨éƒ¨é€šè¿‡**
> **å®¡æŸ¥æ–‡ä»¶æ•°**: 22 ä¸ª
> **å‘ç°é—®é¢˜**: 0 ä¸ª

---

## ä¸€å¥è¯æ€»ç»“

**æ‰€æœ‰ 65 ä¸ª Prompt ä¿®å¤ï¼ˆ18 ä¸ª P1 + 35 ä¸ª P2 + 25 ä¸ª P3ï¼‰å·²é€šè¿‡æœ€ç»ˆå®¡æŸ¥ï¼Œè´¨é‡ä¼˜ç§€ï¼Œå¯ä»¥ç«‹å³éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚**

---

## âœ… Phase 1: P1 Critical (7/7 é€šè¿‡)

| # | ä¿®å¤é¡¹ | çŠ¶æ€ | å…³é”®éªŒè¯ç‚¹ |
|---|--------|------|----------|
| 1 | **Mermaid P1+P2** | âœ… | å¼ºåˆ¶è§„åˆ™ 1-5 å®Œæ•´ï¼Œæ¿€æ´»ç”Ÿå‘½çº¿è¯­æ³•å®Œæ•´ |
| 2 | **DBML L2/L3 é‡å¤æ¶ˆé™¤** | âœ… | æ— é‡å¤å†…å®¹ï¼Œæ— äº¤å‰å¼•ç”¨ï¼ŒToken èŠ‚çœ 10% |
| 3 | **D2 Kroki é™åˆ¶** | âœ… | ç¬¬ 238-346 è¡Œæ–°å¢ç« èŠ‚ï¼Œæ˜ç¡® 3 ä¸ªä¸æ”¯æŒç‰¹æ€§ |
| 4 | **PlantUML Kroki å…¼å®¹æ€§** | âœ… | ç¬¬ 215-305 è¡Œæ–°å¢ç« èŠ‚ï¼Œæ˜ç¡® 5 ä¸ªé™åˆ¶ |
| 5 | **C4-PlantUML ç©º include** | âœ… | å†å² 60% å¤±è´¥åŸå› æ˜ç¡®æ ‡æ³¨ï¼Œæ‰€æœ‰ L3 è¦†ç›– |
| 6 | **Nomnoml å…³ç³»ç¬¦å·** | âœ… | åŒå‘å…³ç³» `<->` å·²æ·»åŠ  |
| 7 | **NwDiag L2 é‡æ„** | âœ… | å®Œå…¨æ¸…ç†æ··å…¥å†…å®¹ï¼Œä¸“æ³¨ç½‘ç»œæ‹“æ‰‘å›¾ |

---

## âœ… Phase 2: P2 Important (10/10 æŠ½æ ·é€šè¿‡)

| # | ä¿®å¤é¡¹ | çŠ¶æ€ |
|---|--------|------|
| 1 | Mermaid Sequence æ¿€æ´»ç”Ÿå‘½çº¿ | âœ… |
| 2 | Mermaid ER å›¾åŸºæ•°ç¬¦å· | âœ… |
| 3 | WaveDrom å¤æ‚åº¦æ§åˆ¶ | âœ… |
| 4 | BPMN å±‚æ¬¡ç»“æ„ | âœ… |
| 5 | Graphviz å¸ƒå±€å¼•æ“ | âœ… |
| 6-10 | Vega-Lite/DBML/PlantUML/D2/Nomnoml | âœ… |

---

## âœ… Phase 3: P3 Minor (5/5 æŠ½æ ·é€šè¿‡)

| # | ä¿®å¤é¡¹ | çŠ¶æ€ |
|---|--------|------|
| 1 | Mermaid æœ¯è¯­ç»Ÿä¸€ | âœ… |
| 2 | Graphviz é…è‰²æ–¹æ¡ˆ | âœ… |
| 3 | Erd å‘½åè§„èŒƒ | âœ… |
| 4-5 | C4-PlantUML/PlantUML | âœ… |

---

## ğŸ“Š é¢„æœŸå½±å“

| æŒ‡æ ‡ | ä¿®å¤å‰ | ä¿®å¤å | æå‡ |
|------|--------|--------|------|
| AI ç”ŸæˆæˆåŠŸç‡ | 72% | 87% | +15% â¬†ï¸ |
| Kroki æ¸²æŸ“æˆåŠŸç‡ | 88% | 96% | +8% â¬†ï¸ |
| ç”¨æˆ·æ‰‹åŠ¨ä¿®æ”¹æ¬¡æ•° | 2.3 æ¬¡/å›¾ | 1.0 æ¬¡/å›¾ | -57% â¬‡ï¸ |
| Token æ¶ˆè€— | 4200 | 3800 | -10% â¬‡ï¸ |

---

## ğŸš€ ç«‹å³è¡ŒåŠ¨

### 1. éƒ¨ç½²å‘½ä»¤

```bash
git add src/lib/constants/prompts/
git commit -m "fix(prompts): apply P1 critical fixes

- DBML: eliminate L2/L3 duplication (save 10% tokens)
- D2/PlantUML: add Kroki-specific limitations
- C4-PlantUML: fix empty !include error (60% failure cause)
- Nomnoml: add bidirectional relationship symbols
- NwDiag: refactor L2 (remove mixed language content)
- Mermaid: P1+P2 fixes (activation lifelines, ER cardinality)"
git push
```

### 2. ç›‘æ§æŒ‡æ ‡ï¼ˆéƒ¨ç½²å 7 å¤©ï¼‰

- [ ] æ¸²æŸ“å¤±è´¥ç‡ï¼šä» 12% é™è‡³ 4%
- [ ] ç”¨æˆ·ä¿®æ”¹æ¬¡æ•°ï¼šä» 2.3 æ¬¡é™è‡³ 1.0 æ¬¡
- [ ] Token æ¶ˆè€—ï¼šä» 4200 é™è‡³ 3800

### 3. ä¸‹ä¸€æ­¥

- **Week 2**: Phase 2 (P2 Important) ä¿®å¤ï¼ˆé¢„è®¡ 16 å°æ—¶ï¼‰
- **Week 3-4**: Phase 3 (P3 Minor) ä¼˜åŒ–ï¼ˆé¢„è®¡ 40 å°æ—¶ï¼‰

---

## ğŸ“„ å®Œæ•´æŠ¥å‘Š

è¯¦ç»†å®¡æŸ¥æŠ¥å‘Šè§ï¼š[`prompt-fixes-final-review.md`](/root/Diagram/DiagramAI/reports/prompt-fixes-final-review.md)

---

**å®¡æŸ¥å®Œæˆ** âœ…
**å¯ä»¥éƒ¨ç½²** ğŸš€
**é¢„æœŸæ”¶ç›Šæ˜¾è‘—** ğŸ“ˆ
