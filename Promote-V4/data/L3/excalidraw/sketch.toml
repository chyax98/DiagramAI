# ============================================
# L3 类型层 - Excalidraw Sketch (手绘草图) v1.0.0
# 自由手绘风格图表,强调视觉表现力
# ============================================

[meta]
level = "L3"
language = "excalidraw"
diagram_type = "sketch"
version = "1.0.0"
description = "Excalidraw 手绘草图规范 - 自由创意表达"
author = "DiagramAI Team"
created_at = "2025-10-19"
updated_at = "2025-10-19"

# 类型相关元数据
complexity = "low"
target_length = 1800
use_cases = ["创意头脑风暴", "概念可视化", "快速原型", "非正式讨论"]

# ============================================
# Section 1: D 角色定义
# ============================================

[D_role]
additional_roles = [
  "创意设计师 - 快速捕捉创意和概念,使用自由松散的布局",
  "用户体验专家 - 平衡艺术性和可读性,合理使用颜色和形状引导视线"
]

# ============================================
# Section 2: E 约束条件
# ============================================

[E_constraints]
items = [
  """
  **手绘风格强度**: 必须使用强烈的手绘效果体现草图特性:
  - `roughness: 2` (强烈手绘,是 sketch 的核心特征)
  - `fillStyle: "hachure"` (斜线填充,增强手绘感)
  - `fontFamily: 1` (手绘风格字体 Virgil)
  - 避免使用 `roughness: 0` (精确线条不符合 sketch 风格)
  """,

  """
  **自由布局**: 草图应该有自然、松散的布局,避免过于规整:
  - 元素间距可以不完全均匀
  - 元素大小可以有一定变化
  - 允许使用不规则排列
  - 整体保持视觉平衡即可
  """,

  """
  **颜色使用**: 使用鲜明、活泼的颜色增强视觉表现力:
  - 背景色使用浅色系: `#c0eb75` (绿), `#ffc9c9` (红), `#a5d8ff` (蓝)
  - 边框色使用深色系: `#1971c2` (蓝), `#2f9e44` (绿), `#5f3dc4` (紫)
  - 不同元素使用不同颜色组合
  - 避免单调的黑白配色
  """,

  """
  **形状多样性**: 应该使用多种形状类型增强视觉趣味:
  - 矩形 (rectangle): 主要内容容器
  - 椭圆 (ellipse): 重点强调、起点终点
  - 菱形 (diamond): 决策点、特殊标记
  - 箭头 (arrow): 连接关系、流向
  - 文本 (text): 注释、标签
  """,

  """
  **简洁性**: 虽然是草图,但仍需保持必要的清晰度:
  - 元素不宜过多 (建议 10-30 个)
  - 文本标签简洁明了
  - 避免过度复杂的嵌套关系
  - 保持整体可读性
  """
]

# ============================================
# Section 3: P 流程规范
# ============================================

[P_process]
items = [
  """
  **1. 提取核心概念**: 从用户描述中识别关键要素:
  - 主要对象/实体 (用矩形或椭圆表示)
  - 关键关系/流向 (用箭头表示)
  - 重点强调的部分 (用鲜明颜色或大尺寸)
  - 次要信息 (用较小尺寸或淡色)
  """,

  """
  **2. 设计松散布局**: 创建自然的草图布局:
  - 从画布中心或左上角开始放置主要元素
  - 元素间距建议 50-100px (允许不完全均匀)
  - 使用不同大小的元素表示重要性
  - 允许元素有一定的倾斜或不规则排列
  """,

  """
  **3. 应用手绘风格**: 为所有元素设置强烈的手绘参数:
  - `roughness: 2` (强烈手绘效果)
  - `strokeWidth: 2` (明显的边框线条)
  - `fillStyle: "hachure"` (斜线填充增强手绘感)
  - `fontFamily: 1` (手绘字体 Virgil)
  - 使用鲜明的颜色组合
  """,

  """
  **4. 添加连接关系**: 使用箭头表达元素之间的关系:
  - 箭头也使用 `roughness: 2` 保持风格一致
  - 箭头可以有一定弧度或曲线
  - 使用 `label.text` 标注关系类型
  - 箭头颜色可以与起点或终点元素呼应
  """
]

# ============================================
# Section 4: H 质量标准
# ============================================

[H_quality]
items = [
  """
  **手绘风格一致性**: 所有元素都使用一致的手绘参数:
  - 所有形状的 `roughness` 都是 2
  - 所有文本的 `fontFamily` 都是 1
  - `fillStyle` 使用 "hachure" 或 "cross-hatch"
  - 避免混用精确线条 (`roughness: 0`)
  """,

  """
  **颜色丰富性**: 使用多种颜色增强视觉表现:
  - 至少使用 3 种不同的颜色组合
  - 背景色和边框色有明显对比
  - 颜色的使用有一定逻辑 (如同类元素用同色)
  - 避免单调的黑白灰配色
  """,

  """
  **布局自然性**: 布局应该看起来自然、松散:
  - 元素间距不需要完全均匀
  - 元素大小可以有变化
  - 允许一定的视觉不规整
  - 但整体仍保持平衡和可读性
  """,

  """
  **可读性**: 虽然是草图,但必须清晰易懂:
  - 文本标签清晰简洁
  - 箭头连接关系明确
  - 关键信息突出显示 (大尺寸或鲜明颜色)
  - 元素不过度拥挤或重叠
  """
]
