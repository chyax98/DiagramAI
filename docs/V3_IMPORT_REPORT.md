# âœ… Promote-V3 æç¤ºè¯å¯¼å…¥æˆåŠŸæŠ¥å‘Š

**å¯¼å…¥æ—¶é—´**: 2025-10-18 18:53
**ç‰ˆæœ¬å·**: v1.0.0
**ç‰ˆæœ¬åç§°**: Promote-V3 åˆå§‹ç‰ˆæœ¬ (DEPTHæ¡†æ¶)

---

## ğŸ“Š æ€»ä½“ç»Ÿè®¡

| ç»´åº¦       | æ•°é‡ |
| ---------- | ---- |
| æ€»è®°å½•æ•°   | 53   |
| L1 é€šç”¨å±‚  | 1    |
| L2 è¯­è¨€å±‚  | 8    |
| L3 ç±»å‹å±‚  | 44   |
| æ”¯æŒè¯­è¨€æ•° | 8    |

---

## ğŸ¯ L2 è¯­è¨€å±‚ (8ç§è¯­è¨€)

| #   | è¯­è¨€        | æç¤ºè¯æ•° | åŒ…å«L3ç±»å‹ |
| --- | ----------- | -------- | ---------- |
| 1   | c4plantuml  | 1        | 0          |
| 2   | d2          | 8        | 7          |
| 3   | dbml        | 5        | 4          |
| 4   | excalidraw  | 6        | 5          |
| 5   | graphviz    | 7        | 6          |
| 6   | mermaid     | 15       | 14         |
| 7   | plantuml    | 9        | 8          |
| 8   | structurizr | 1        | 0          |

**æ€»è®¡**: 52 ä¸ª (L2=8 + L3=44)

---

## ğŸ“‹ L3 ç±»å‹å±‚è¯¦ç»†ç»Ÿè®¡

### ğŸ† Mermaid (14ç§å›¾è¡¨)

```
class, er, flowchart, gantt, gitgraph, journey, mindmap,
pie, quadrant, sankey, sequence, state, timeline, xychart
```

### ğŸ“ PlantUML (8ç§å›¾è¡¨)

```
activity, class, component, deployment, object,
sequence, state, usecase
```

### ğŸ¨ D2 (7ç§å›¾è¡¨)

```
architecture, class, er, flowchart, grid, network, sequence
```

### ğŸ”· Graphviz (6ç§å›¾è¡¨)

```
architecture, er, flowchart, network, state, tree
```

### âœï¸ Excalidraw (5ç§å›¾è¡¨)

```
architecture, diagram, flowchart, sketch, wireframe
```

### ğŸ—„ï¸ DBML (4ç§å›¾è¡¨)

```
erd, migration, schema, single_table
```

---

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### æ•°æ®åº“ä¿¡æ¯

- **è¡¨å**: `custom_prompts`
- **ç”¨æˆ·ID**: 1 (system)
- **æ¿€æ´»çŠ¶æ€**: å…¨éƒ¨æ¿€æ´» (is_active = 1)
- **ç‰ˆæœ¬æ§åˆ¶**: æ”¯æŒå†å²ç‰ˆæœ¬ç®¡ç†

### æ•°æ®ç»“æ„

```sql
CREATE TABLE custom_prompts (
  id INTEGER PRIMARY KEY,
  user_id INTEGER NOT NULL,
  prompt_level INTEGER NOT NULL,  -- 1=L1, 2=L2, 3=L3
  render_language TEXT,           -- L2/L3 å¿…å¡«
  diagram_type TEXT,              -- L3 å¿…å¡«
  version TEXT NOT NULL,          -- "v1.0.0"
  version_name TEXT,
  is_active INTEGER DEFAULT 0,    -- 0=å†å², 1=æ¿€æ´»
  content TEXT NOT NULL,
  created_at TEXT,
  updated_at TEXT
);
```

### å”¯ä¸€çº¦æŸ

æ¯ä¸ªä½ç½®åªèƒ½æœ‰ä¸€ä¸ªæ¿€æ´»ç‰ˆæœ¬:

```sql
UNIQUE INDEX ON custom_prompts(
  user_id,
  prompt_level,
  render_language,
  diagram_type
) WHERE is_active = 1;
```

---

## ğŸ¯ ä¸V2çš„å¯¹æ¯”

| ç»´åº¦             | V2        | V3 (æœ¬æ¬¡å¯¼å…¥) | æ”¹è¿›      |
| ---------------- | --------- | ------------- | --------- |
| L1 å­—ç¬¦æ•°        | 983       | 935           | -4.8% âœ…  |
| L2 å¹³å‡å­—ç¬¦æ•°    | ~972      | ~928          | -4.5% âœ…  |
| L3 å¹³å‡å­—ç¬¦æ•°    | -         | ~850          | æ–°å¢ âœ…   |
| æ ¼å¼å¯è¯»æ€§       | è¶…é•¿å•è¡Œ  | åˆ†æ®µæ¢è¡Œ      | âœ…        |
| æ‹¼æ¥åå¹³å‡å­—ç¬¦æ•° | ~3,870    | 2,583         | -33.2% âœ… |
| å·¥å…·æ”¯æŒ         | âŒ æ—      | âœ… å®Œæ•´       | âœ…        |
| ä»»åŠ¡æŒ‡ä»¤ç³»ç»Ÿ     | âš ï¸ ä¸æ˜ç¡® | âœ… å®Œæ•´       | âœ…        |

---

## âœ¨ æ ¸å¿ƒä¼˜åŠ¿

### 1. DEPTH æ¡†æ¶

- **D (Define)**: è§’è‰²å®šä¹‰æ¸…æ™°
- **E (Establish)**: æˆåŠŸæŒ‡æ ‡æ˜ç¡®
- **P (Provide)**: èƒŒæ™¯ä¿¡æ¯å®Œæ•´
- **T (Task)**: ä»»åŠ¡æµç¨‹å…·ä½“
- **H (Human)**: è‡ªæ£€å›è·¯å®Œå–„

### 2. ä»»åŠ¡æŒ‡ä»¤ç³»ç»Ÿ

å®Œæ•´çš„ä¸‰æ¨¡å¼æ”¯æŒ:

- âœ… `GENERATE_NEW_DIAGRAM` - ä»é›¶ç”Ÿæˆ
- âœ… `ADJUST_EXISTING_DIAGRAM` - æœ€å°åŒ–è°ƒæ•´
- âœ… `FIX_SYNTAX_ERRORS_ONLY` - ä»…ä¿®å¤è¯­æ³•

### 3. åŠ¨æ€é•¿åº¦åˆ†é…

æ ¹æ®è¯­è¨€/ç±»å‹å¤æ‚åº¦æ™ºèƒ½è°ƒæ•´:

- ç®€å•è¯­è¨€: 1,800å­—ç¬¦
- ä¸­ç­‰å¤æ‚: 2,800å­—ç¬¦
- é«˜å¤æ‚åº¦: 4,000å­—ç¬¦

### 4. æ ¼å¼å¯è¯»æ€§

- âœ… L1/L2/L3 åˆ†æ®µæ¢è¡Œ
- âœ… E/P/T/H æ®µè½ç‹¬ç«‹
- âœ… ä¾¿äºäººå·¥ç»´æŠ¤å’ŒGit diff

---

## ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

### Phase 1: æµ‹è¯•éªŒè¯ â³

1. [ ] ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯æ‹¼æ¥é€»è¾‘
2. [ ] ç”Ÿæˆ100ä¸ªæµ‹è¯•å›¾è¡¨éªŒè¯æ¸²æŸ“æˆåŠŸç‡
3. [ ] A/Bæµ‹è¯•å¯¹æ¯”V3 vs ç³»ç»Ÿé»˜è®¤æ–¹æ¡ˆ

### Phase 2: å‰ç«¯é›†æˆ â³

1. [ ] æ·»åŠ æç¤ºè¯ç‰ˆæœ¬é€‰æ‹©UI
2. [ ] å®ç°æç¤ºè¯é¢„è§ˆåŠŸèƒ½
3. [ ] æ”¯æŒç”¨æˆ·åˆ›å»ºè‡ªå®šä¹‰ç‰ˆæœ¬

### Phase 3: æŒç»­ä¼˜åŒ– ğŸ“

1. [ ] æ ¹æ®å¤±è´¥æ¡ˆä¾‹ä¼˜åŒ–æç¤ºè¯
2. [ ] æ·»åŠ æ›´å¤šè¯­è¨€å’Œç±»å‹
3. [ ] æ”¶é›†ç”¨æˆ·åé¦ˆè¿­ä»£æ”¹è¿›

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Promote-V3 è§„èŒƒ](../Promote-V3/Promote-V3-Spec.md)
- [æ‹¼æ¥è§„èŒƒ](../Promote-V3/ASSEMBLY_SPEC.md)
- [å®ŒæˆæŠ¥å‘Š](../Promote-V3/COMPLETION_REPORT.md)
- [å¯¼å…¥è„šæœ¬](../scripts/import-v3-prompts.ts)
- [æ‹¼æ¥è„šæœ¬](../scripts/assemble-prompts.ts)

---

## ğŸ‰ æ€»ç»“

**Promote-V3 å·²æˆåŠŸå¯¼å…¥åˆ° custom_prompts è¡¨,æ ‡è®°ä¸º v1.0.0 ç‰ˆæœ¬**

- âœ… 53ä¸ªæç¤ºè¯å…¨éƒ¨å¯¼å…¥æˆåŠŸ
- âœ… æ•°æ®ç»“æ„å®Œæ•´ä¸”ç¬¦åˆè§„èŒƒ
- âœ… å…¨éƒ¨è®¾ç½®ä¸ºæ¿€æ´»çŠ¶æ€
- âœ… æ”¯æŒç‰ˆæœ¬ç®¡ç†å’Œå†å²å›æº¯
- âœ… æ ¼å¼ä¼˜åŒ–,å¯è¯»æ€§æä½³

**å‡†å¤‡å°±ç»ª,å¯ä»¥å¼€å§‹æµ‹è¯•!** ğŸš€

---

**ç”Ÿæˆæ—¶é—´**: 2025-10-18 19:00
**ä½œè€…**: Claude (Sonnet 4.5)
**å®¡æ ¸çŠ¶æ€**: å·²å®Œæˆ
