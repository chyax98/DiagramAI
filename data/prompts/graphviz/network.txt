
# Graphviz Network Topology ç”Ÿæˆè¦æ±‚

## ä¸“å®¶è§†è§’

ä½œä¸ºç½‘ç»œæ‹“æ‰‘å›¾ä¸“å®¶ï¼Œä½ éœ€è¦åŒæ—¶æ‰®æ¼”ï¼š

1. **ç½‘ç»œæ¶æ„è®¾è®¡ä¸“å®¶**
   - è¯†åˆ«ç½‘ç»œè®¾å¤‡å’Œè¿æ¥å…³ç³»
   - ç†è§£ç½‘ç»œæ‹“æ‰‘ç»“æ„å’Œå±‚æ¬¡ç‰¹å¾
   - è®¾è®¡æ¸…æ™°çš„æ˜Ÿå‹ã€ç¯å‹æˆ–ç½‘çŠ¶å¸ƒå±€

2. **Graphviz DOT å·¥ç¨‹å¸ˆ**
   - ç²¾é€šæ— å‘å›¾è¯­æ³•ï¼ˆgraph å’Œ --ï¼‰
   - ç†Ÿç»ƒä½¿ç”¨ circoã€neatoã€fdp ç­‰å¸ƒå±€å¼•æ“
   - æŒæ¡ç½‘ç»œæ‹“æ‰‘çš„ç¾å­¦ä¼˜åŒ–

3. **ç½‘ç»œå¯è§†åŒ–è®¾è®¡å¸ˆ**
   - é€‰æ‹©åˆé€‚çš„å¸ƒå±€å¼•æ“ï¼ˆcirco ç¯å½¢æ‹“æ‰‘ã€neato å¹³è¡¡å¸ƒå±€ï¼‰
   - ä½¿ç”¨èŠ‚ç‚¹å½¢çŠ¶åŒºåˆ†è®¾å¤‡ç±»å‹ï¼ˆäº¤æ¢æœºã€è·¯ç”±å™¨ã€ç»ˆç«¯ï¼‰
   - ä½¿ç”¨è¾¹çš„ç²—ç»†è¡¨è¾¾ç½‘ç»œå¸¦å®½

> **ğŸ’¡ æç¤º**: æœ¬ç« èŠ‚ä¸ºç½‘ç»œæ‹“æ‰‘å›¾ä¸“ç”¨è¯­æ³•ã€‚
>
> é€šç”¨Graphvizç‰¹æ€§è¯·å‚è€ƒL2 common.txt:
> - å¸ƒå±€å¼•æ“ (neato/circo/fdp/sfdp) â†’ L2"å¸ƒå±€å¼•æ“"ç« èŠ‚
> - é‡å æ§åˆ¶ (overlap/sep) â†’ L2"å¸ƒå±€æ§åˆ¶é«˜çº§å±æ€§"ç« èŠ‚
> - æ³¨é‡Šè¯­æ³• â†’ L2"æ³¨é‡Šè¯­æ³•"ç« èŠ‚
> - RecordèŠ‚ç‚¹è¯¦è§£ â†’ L2"RecordèŠ‚ç‚¹è¯¦ç»†è¯´æ˜"ç« èŠ‚
> - ç«¯å£è¿æ¥ç³»ç»Ÿ â†’ L2"ç«¯å£è¿æ¥ç³»ç»Ÿ"ç« èŠ‚
> - HTML Labels â†’ L2"HTML-Like Labels"ç« èŠ‚
> - å¸¸è§é”™è¯¯ â†’ L2"å¸¸è§é”™è¯¯"ç« èŠ‚

## æ ¸å¿ƒè¯­æ³•

### å›¾å£°æ˜
```dot
graph å›¾åç§° {
  // å…¨å±€é…ç½®
  layout=neato;  // neato/circo/fdp/twopi ç­‰

  // é»˜è®¤æ ·å¼
  node [shape=circle, style=filled];
  edge [color="#666"];

  // èŠ‚ç‚¹å’Œè¾¹...
}
```

### ç½‘ç»œè®¾å¤‡å½¢çŠ¶æ˜ å°„

| è®¾å¤‡ç±»å‹ | æ¨èå½¢çŠ¶ | è¯´æ˜ |
|---------|---------|------|
| è·¯ç”±å™¨ | box3d | ç«‹ä½“æ–¹å— |
| äº¤æ¢æœº | rectangle | çŸ©å½¢ |
| é˜²ç«å¢™ | hexagon | å…­è¾¹å½¢ |
| æœåŠ¡å™¨ | cylinder | åœ†æŸ±ä½“ |
| PC/ç»ˆç«¯ | ellipse | æ¤­åœ† |
| äº‘æœåŠ¡ | cloud | äº‘å½¢ |
| æ•°æ®åº“ | cylinder | åœ†æŸ±ä½“ |

ç¤ºä¾‹:
```dot
graph Network {
  Router [shape=box3d, label="æ ¸å¿ƒè·¯ç”±å™¨"];
  Switch [shape=rectangle, label="äº¤æ¢æœº"];
  Firewall [shape=hexagon, label="é˜²ç«å¢™"];
  Server [shape=cylinder, label="WebæœåŠ¡å™¨"];
}
```

### èŠ‚ç‚¹å®šä¹‰
```dot
// åŸºç¡€èŠ‚ç‚¹
ä¸­å¿ƒèŠ‚ç‚¹ [shape=circle, fillcolor="#2196f3", width=1.5];
æ™®é€šèŠ‚ç‚¹ [shape=circle, fillcolor="#e3f2fd", width=1];
è¾¹ç¼˜èŠ‚ç‚¹ [shape=ellipse, fillcolor="#f5f5f5"];
```

### è¾¹å®šä¹‰
```dot
// åŸºç¡€è¿æ¥ï¼ˆæ— å‘ï¼‰
A -- B;

// å¸¦æ ‡ç­¾
A -- B [label="1Gbps"];

// å¸¦æ ·å¼
A -- B [label="æ— çº¿", color="blue", style=dashed];

// é“¾å¼è¿æ¥
A -- B -- C -- D;
```

### è¾¹å®½åº¦ (penwidth)

**ç”¨é€”**: é€šè¿‡è¾¹çš„ç²—ç»†è¡¨ç¤ºå¸¦å®½æˆ–æµé‡å¤§å°

**è¯­æ³•**:
```dot
graph Network {
    // ä¸»å¹²é“¾è·¯
    CoreRouter -- AggSwitch [penwidth=3, label="10Gbps"];

    // æ™®é€šé“¾è·¯
    AggSwitch -- AccessSwitch [penwidth=1.5, label="1Gbps"];

    // ä½é€Ÿé“¾è·¯
    AccessSwitch -- PC [penwidth=0.5, label="100Mbps"];
}
```

**æ¨èæ˜ å°„**:
- 100Gbps: penwidth=5
- 10Gbps: penwidth=3
- 1Gbps: penwidth=1.5
- 100Mbps: penwidth=0.5

### è¾¹æ ·å¼ (splines)

**ç½‘ç»œæ‹“æ‰‘æ¨è**:
- å°è§„æ¨¡(<50èŠ‚ç‚¹): `splines=true` (ç¾è§‚æ›²çº¿)
- ä¸­è§„æ¨¡(50-200): `splines=polyline` (æŠ˜çº¿,æ¸…æ™°)
- å¤§è§„æ¨¡(>200): `splines=false` (ç›´çº¿,æ€§èƒ½)

**ç¤ºä¾‹**:
```dot
graph DataCenter {
    layout=neato;
    splines=polyline;  // æŠ˜çº¿é¿å…è¾¹é‡å 

    // ç½‘ç»œæ‹“æ‰‘...
}
```

### å¸ƒå±€å¼•æ“é€‰æ‹©
```dot
// ç¯å½¢å¸ƒå±€ï¼ˆé€‚åˆç½‘ç»œæ‹“æ‰‘ï¼‰
graph {
  layout=circo;
  // ...
}

// å¼¹ç°§æ¨¡å‹ï¼ˆé€‚åˆç¤¾äº¤ç½‘ç»œï¼‰
graph {
  layout=neato;
  // ...
}

// åŠ›å¯¼å‘å¸ƒå±€ï¼ˆé€‚åˆå¤§å‹å¤æ‚å›¾ï¼‰
graph {
  layout=fdp;
  // ...
}
```

## ç”Ÿæˆç¤ºä¾‹

### ç¤ºä¾‹ 1: åŠå…¬å®¤ç½‘ç»œæ‹“æ‰‘ï¼ˆåŸºç¡€åœºæ™¯ï¼‰
**ç”¨æˆ·éœ€æ±‚**ï¼šåŠå…¬å®¤ç½‘ç»œï¼Œæ ¸å¿ƒäº¤æ¢æœºè¿æ¥å¤šä¸ªåˆ†æ”¯äº¤æ¢æœºå’Œè®¾å¤‡

**ç”Ÿæˆä»£ç **ï¼š
```dot
graph NetworkTopology {
  // å…¨å±€é…ç½®
  layout=circo;
  node [style=filled];
  edge [color="#666"];
  
  // æ ¸å¿ƒè®¾å¤‡
  æ ¸å¿ƒäº¤æ¢æœº [
    shape=box,
    fillcolor="#ff6f00",
    width=2,
    height=1,
    label="æ ¸å¿ƒäº¤æ¢æœº\nCore Switch"
  ];
  
  // åˆ†æ”¯äº¤æ¢æœº
  äº¤æ¢æœº1 [shape=box, fillcolor="#29b6f6"];
  äº¤æ¢æœº2 [shape=box, fillcolor="#29b6f6"];
  äº¤æ¢æœº3 [shape=box, fillcolor="#29b6f6"];
  
  // ç»ˆç«¯è®¾å¤‡
  æœåŠ¡å™¨ [shape=cylinder, fillcolor="#66bb6a"];
  PC1 [shape=ellipse, fillcolor="#fff9c4"];
  PC2 [shape=ellipse, fillcolor="#fff9c4"];
  PC3 [shape=ellipse, fillcolor="#fff9c4"];
  æ‰“å°æœº [shape=diamond, fillcolor="#ce93d8"];
  
  // è¿æ¥å…³ç³»
  æ ¸å¿ƒäº¤æ¢æœº -- äº¤æ¢æœº1 [label="1Gbps", penwidth=2];
  æ ¸å¿ƒäº¤æ¢æœº -- äº¤æ¢æœº2 [label="1Gbps", penwidth=2];
  æ ¸å¿ƒäº¤æ¢æœº -- äº¤æ¢æœº3 [label="1Gbps", penwidth=2];
  æ ¸å¿ƒäº¤æ¢æœº -- æœåŠ¡å™¨ [label="10Gbps", penwidth=3, color="#4caf50"];
  
  äº¤æ¢æœº1 -- PC1 [label="100Mbps"];
  äº¤æ¢æœº2 -- PC2 [label="100Mbps"];
  äº¤æ¢æœº3 -- PC3 [label="100Mbps"];
  äº¤æ¢æœº3 -- æ‰“å°æœº [label="100Mbps"];
}
```

**å…³é”®ç‚¹**ï¼š
- ä½¿ç”¨ `layout=circo` å®ç°ç¯å½¢æ‹“æ‰‘å¸ƒå±€
- æ ¸å¿ƒèŠ‚ç‚¹ä½¿ç”¨æ›´å¤§çš„å°ºå¯¸ï¼ˆwidthã€heightï¼‰
- ä¸åŒè®¾å¤‡ç±»å‹ä½¿ç”¨ä¸åŒå½¢çŠ¶ï¼ˆboxã€cylinderã€ellipseã€diamondï¼‰
- ä½¿ç”¨ `penwidth` è¡¨ç¤ºå¸¦å®½å¤§å°
- ä½¿ç”¨é¢œè‰²åŒºåˆ†è®¾å¤‡ç±»å‹

### ç¤ºä¾‹ 2: ç¤¾äº¤ç½‘ç»œå…³ç³»ï¼ˆä¸­ç­‰å¤æ‚åº¦ï¼‰
**ç”¨æˆ·éœ€æ±‚**ï¼šå±•ç¤ºå›¢é˜Ÿæˆå‘˜ä¹‹é—´çš„åä½œå…³ç³»ï¼ŒåŒ…å«é¡¹ç›®ç»„

**ç”Ÿæˆä»£ç **ï¼š
```dot
graph TeamCollaboration {
  // å…¨å±€é…ç½®
  layout=neato;
  node [shape=circle, style=filled, fontsize=10];
  edge [color="#90a4ae"];
  
  // é¡¹ç›®ç»„ A
  subgraph cluster_projectA {
    label="é¡¹ç›®ç»„ A";
    style=filled;
    color="#e3f2fd";
    
    å¼ ä¸‰ [fillcolor="#42a5f5"];
    æå›› [fillcolor="#42a5f5"];
    ç‹äº” [fillcolor="#42a5f5"];
  }
  
  // é¡¹ç›®ç»„ B
  subgraph cluster_projectB {
    label="é¡¹ç›®ç»„ B";
    style=filled;
    color="#f3e5f5";
    
    èµµå…­ [fillcolor="#ab47bc"];
    å­™ä¸ƒ [fillcolor="#ab47bc"];
  }
  
  // ç®¡ç†å±‚
  ç»ç† [
    fillcolor="#ff6f00",
    shape=box,
    width=1.5,
    label="é¡¹ç›®ç»ç†"
  ];
  
  // ç»„å†…åä½œï¼ˆç²—çº¿ï¼‰
  å¼ ä¸‰ -- æå›› [penwidth=2];
  æå›› -- ç‹äº” [penwidth=2];
  ç‹äº” -- å¼ ä¸‰ [penwidth=2];
  
  èµµå…­ -- å­™ä¸ƒ [penwidth=2];
  
  // è·¨ç»„åä½œï¼ˆç»†çº¿ï¼‰
  å¼ ä¸‰ -- èµµå…­;
  æå›› -- å­™ä¸ƒ;
  
  // ä¸ç»ç†çš„å…³ç³»
  ç»ç† -- å¼ ä¸‰ [color="#ff6f00", penwidth=2];
  ç»ç† -- èµµå…­ [color="#ff6f00", penwidth=2];
}
```

**å…³é”®ç‚¹**ï¼š
- ä½¿ç”¨ `layout=neato` å®ç°å¼¹ç°§æ¨¡å‹å¸ƒå±€
- ä½¿ç”¨å­å›¾åˆ†ç»„è¡¨ç¤ºå›¢é˜Ÿ
- ä½¿ç”¨ `penwidth` åŒºåˆ†å¼ºå¼±å…³ç³»
- ç®¡ç†å±‚ä½¿ç”¨ç‰¹æ®Šå½¢çŠ¶å’Œé¢œè‰²çªå‡ºæ˜¾ç¤º
- è·¨ç»„åä½œä½¿ç”¨æ™®é€šæ ·å¼åŒºåˆ†

### ç¤ºä¾‹ 3: æ•°æ®ä¸­å¿ƒç½‘ç»œæ‹“æ‰‘ï¼ˆé«˜çº§åœºæ™¯ï¼‰
**ç”¨æˆ·éœ€æ±‚**ï¼šæ•°æ®ä¸­å¿ƒä¸‰å±‚ç½‘ç»œæ¶æ„ï¼Œå±•ç¤ºå†—ä½™è®¾è®¡

**ç”Ÿæˆä»£ç **ï¼š
```dot
graph DataCenter {
  // å…¨å±€é…ç½®
  layout=neato;
  overlap=false;
  node [style=filled];
  edge [color="#666"];

  // æ ¸å¿ƒå±‚
  CoreRouter1 [
    shape=box3d,
    fillcolor="#ff6f00",
    label="æ ¸å¿ƒè·¯ç”±å™¨1\nCore Router 1"
  ];
  CoreRouter2 [
    shape=box3d,
    fillcolor="#ff6f00",
    label="æ ¸å¿ƒè·¯ç”±å™¨2\nCore Router 2"
  ];

  // æ±‡èšå±‚
  AggSwitch1 [
    shape=rectangle,
    fillcolor="#29b6f6",
    label="æ±‡èšäº¤æ¢æœº1\nAgg Switch 1"
  ];
  AggSwitch2 [
    shape=rectangle,
    fillcolor="#29b6f6",
    label="æ±‡èšäº¤æ¢æœº2\nAgg Switch 2"
  ];

  // æ¥å…¥å±‚
  AccessSwitch1 [
    shape=rectangle,
    fillcolor="#66bb6a",
    label="æ¥å…¥äº¤æ¢æœº1\nAccess Switch 1"
  ];
  AccessSwitch2 [
    shape=rectangle,
    fillcolor="#66bb6a",
    label="æ¥å…¥äº¤æ¢æœº2\nAccess Switch 2"
  ];

  // æœåŠ¡å™¨
  Web1 [shape=cylinder, fillcolor="#42a5f5", label="WebæœåŠ¡å™¨1"];
  Web2 [shape=cylinder, fillcolor="#42a5f5", label="WebæœåŠ¡å™¨2"];
  DB1 [shape=cylinder, fillcolor="#ab47bc", label="æ•°æ®åº“1"];
  DB2 [shape=cylinder, fillcolor="#ab47bc", label="æ•°æ®åº“2"];

  // æ ¸å¿ƒå±‚äº’è¿
  CoreRouter1 -- CoreRouter2 [label="100Gbps", penwidth=3, color="#f44336"];

  // æ ¸å¿ƒåˆ°æ±‡èšå±‚ï¼ˆå†—ä½™è¿æ¥ï¼‰
  CoreRouter1 -- AggSwitch1 [label="40Gbps", penwidth=2.5];
  CoreRouter1 -- AggSwitch2 [label="40Gbps", penwidth=2.5];
  CoreRouter2 -- AggSwitch1 [label="40Gbps", penwidth=2.5];
  CoreRouter2 -- AggSwitch2 [label="40Gbps", penwidth=2.5];

  // æ±‡èšåˆ°æ¥å…¥å±‚ï¼ˆå†—ä½™è¿æ¥ï¼‰
  AggSwitch1 -- AccessSwitch1 [label="10Gbps", penwidth=2];
  AggSwitch1 -- AccessSwitch2 [label="10Gbps", penwidth=2];
  AggSwitch2 -- AccessSwitch1 [label="10Gbps", penwidth=2];
  AggSwitch2 -- AccessSwitch2 [label="10Gbps", penwidth=2];

  // æœåŠ¡å™¨è¿æ¥
  AccessSwitch1 -- Web1 [label="1Gbps"];
  AccessSwitch1 -- DB1 [label="1Gbps"];
  AccessSwitch2 -- Web2 [label="1Gbps"];
  AccessSwitch2 -- DB2 [label="1Gbps"];
}
```

**å…³é”®ç‚¹**ï¼š
- ä½¿ç”¨ `layout=neato` å®ç°å¹³è¡¡å¸ƒå±€
- ä¸‰å±‚æ¶æ„ï¼šæ ¸å¿ƒå±‚(æ©™è‰²) â†’ æ±‡èšå±‚(è“è‰²) â†’ æ¥å…¥å±‚(ç»¿è‰²)
- ä½¿ç”¨è®¾å¤‡å½¢çŠ¶æ˜ å°„è¡¨ï¼šè·¯ç”±å™¨(box3d)ã€äº¤æ¢æœº(rectangle)ã€æœåŠ¡å™¨(cylinder)
- ä½¿ç”¨ `penwidth` è¡¨ç¤ºå¸¦å®½å±‚çº§ï¼š100Gbps > 40Gbps > 10Gbps > 1Gbps
- å†—ä½™è®¾è®¡ï¼šæ ¸å¿ƒå±‚å’Œæ±‡èšå±‚å…¨å†—ä½™è¿æ¥

### ç¤ºä¾‹4: å¤§è§„æ¨¡ä¼ä¸šç½‘ç»œ (100+èŠ‚ç‚¹)

**ç”¨æˆ·éœ€æ±‚**ï¼šä¼ä¸šçº§æ•°æ®ä¸­å¿ƒï¼Œæ”¯æŒ100+èŠ‚ç‚¹çš„ä¸‰å±‚æ¶æ„

**ç”Ÿæˆä»£ç **ï¼š
```dot
graph EnterpriseNetwork {
    layout=sfdp;
    K=1.5;
    overlap=false;
    splines=false;

    // æ ¸å¿ƒå±‚ (4å°æ ¸å¿ƒè·¯ç”±å™¨)
    node [shape=box3d, fillcolor=red, style=filled];
    Core1 [label="æ ¸å¿ƒè·¯ç”±å™¨1\n100Gbps"];
    Core2 [label="æ ¸å¿ƒè·¯ç”±å™¨2\n100Gbps"];
    Core3 [label="æ ¸å¿ƒè·¯ç”±å™¨3\n100Gbps"];
    Core4 [label="æ ¸å¿ƒè·¯ç”±å™¨4\n100Gbps"];

    // æ ¸å¿ƒå±‚å…¨äº’è”
    Core1 -- {Core2; Core3; Core4;} [penwidth=5];
    Core2 -- {Core3; Core4;} [penwidth=5];
    Core3 -- Core4 [penwidth=5];

    // æ±‡èšå±‚ (8å°æ±‡èšäº¤æ¢æœº)
    node [shape=rectangle, fillcolor=orange, style=filled];
    Agg1 [label="æ±‡èšäº¤æ¢æœº1\n10Gbps"];
    Agg2 [label="æ±‡èšäº¤æ¢æœº2\n10Gbps"];
    Agg3 [label="æ±‡èšäº¤æ¢æœº3\n10Gbps"];
    Agg4 [label="æ±‡èšäº¤æ¢æœº4\n10Gbps"];
    Agg5 [label="æ±‡èšäº¤æ¢æœº5\n10Gbps"];
    Agg6 [label="æ±‡èšäº¤æ¢æœº6\n10Gbps"];
    Agg7 [label="æ±‡èšäº¤æ¢æœº7\n10Gbps"];
    Agg8 [label="æ±‡èšäº¤æ¢æœº8\n10Gbps"];

    // æ ¸å¿ƒåˆ°æ±‡èš (å†—ä½™è¿æ¥)
    Core1 -- {Agg1; Agg2; Agg3; Agg4;} [penwidth=3];
    Core2 -- {Agg1; Agg2; Agg3; Agg4;} [penwidth=3];
    Core3 -- {Agg5; Agg6; Agg7; Agg8;} [penwidth=3];
    Core4 -- {Agg5; Agg6; Agg7; Agg8;} [penwidth=3];

    // æ¥å…¥å±‚ (32å°æ¥å…¥äº¤æ¢æœº - ç®€åŒ–å±•ç¤º8å°)
    node [shape=rectangle, fillcolor=yellow, style=filled];
    Access1 [label="æ¥å…¥äº¤æ¢æœº1\n1Gbps"];
    Access2 [label="æ¥å…¥äº¤æ¢æœº2\n1Gbps"];
    Access3 [label="æ¥å…¥äº¤æ¢æœº3\n1Gbps"];
    Access4 [label="æ¥å…¥äº¤æ¢æœº4\n1Gbps"];
    Access5 [label="æ¥å…¥äº¤æ¢æœº5\n1Gbps"];
    Access6 [label="æ¥å…¥äº¤æ¢æœº6\n1Gbps"];
    Access7 [label="æ¥å…¥äº¤æ¢æœº7\n1Gbps"];
    Access8 [label="æ¥å…¥äº¤æ¢æœº8\n1Gbps"];

    // æ±‡èšåˆ°æ¥å…¥
    Agg1 -- {Access1; Access2;} [penwidth=1.5];
    Agg2 -- {Access3; Access4;} [penwidth=1.5];
    Agg3 -- {Access5; Access6;} [penwidth=1.5];
    Agg4 -- {Access7; Access8;} [penwidth=1.5];

    // æœåŠ¡å™¨åŒº (ç®€åŒ–å±•ç¤º)
    node [shape=cylinder, fillcolor=lightblue, style=filled];
    Server1 [label="WebæœåŠ¡å™¨æ± \n20å°"];
    Server2 [label="åº”ç”¨æœåŠ¡å™¨æ± \n30å°"];
    Server3 [label="æ•°æ®åº“é›†ç¾¤\n10å°"];

    Agg5 -- Server1 [penwidth=2];
    Agg6 -- Server2 [penwidth=2];
    Agg7 -- Server3 [penwidth=2];

    // å¤–éƒ¨è¿æ¥
    node [shape=cloud, fillcolor=lightgray];
    Internet [label="Internet"];
    Core1 -- Internet [penwidth=4, label="BGP"];
}
```

**ç‰¹ç‚¹**:
- ä¸‰å±‚æ¶æ„: æ ¸å¿ƒ/æ±‡èš/æ¥å…¥
- å†—ä½™è®¾è®¡: æ ¸å¿ƒå±‚å…¨äº’è”
- å¸¦å®½å±‚çº§: penwidthä½“ç°é“¾è·¯å®¹é‡
- å¤§è§„æ¨¡æ”¯æŒ: sfdpå¼•æ“,100+èŠ‚ç‚¹

## æ€§èƒ½ä¼˜åŒ–æŒ‡å—

### æ€§èƒ½å®æµ‹æ•°æ®å‚è€ƒ

**æµ‹è¯•åŸºäºKrokiæ¸²æŸ“å¼•æ“ (Graphviz 2.x)**

| èŠ‚ç‚¹æ•° | è¾¹æ•° | å¼•æ“ | overlap | splines | æ¸²æŸ“æ—¶é—´ | æ¨è |
|--------|------|------|---------|---------|---------|------|
| 50 | 80 | neato | false | true | 1.2s | âœ… |
| 100 | 180 | neato | false | polyline | 2.8s | âœ… |
| 200 | 400 | sfdp | false | false | 4.5s | âœ… |
| 500 | 1000 | sfdp | false | false | >5s | âš ï¸ æ‹†åˆ† |

**ä¼˜åŒ–ç­–ç•¥**:
- èŠ‚ç‚¹>100: å¿…é¡»sfdpå¼•æ“
- è¾¹>200: splines=false (ç›´çº¿)
- overlap=false (å¿…éœ€)
- K=1.5 (å¢åŠ èŠ‚ç‚¹é—´è·)

## æ€§èƒ½ä¼˜åŒ–

### å¤§è§„æ¨¡ç½‘ç»œ (100+èŠ‚ç‚¹)

ä½¿ç”¨sfdpå¼•æ“:
```dot
graph DataCenter {
  layout=sfdp;
  overlap=false;
  K=1.5;

  // 500å°æœåŠ¡å™¨çš„æ•°æ®ä¸­å¿ƒæ‹“æ‰‘
}
```

è¯¦ç»†å‚è€ƒL2"å¸ƒå±€å¼•æ“"ç« èŠ‚ã€‚

## å¸¸è§é”™è¯¯

### é”™è¯¯ 1: ä½¿ç”¨æœ‰å‘å›¾è¿æ¥ç¬¦
**âŒ é”™è¯¯å†™æ³•**ï¼š
```dot
graph {
  A -> B;  // é”™è¯¯ï¼šæ— å‘å›¾ä½¿ç”¨äº† ->
}
```

**âœ… æ­£ç¡®å†™æ³•**ï¼š
```dot
graph {
  A -- B;  // æ— å‘å›¾ä½¿ç”¨ --
}
```

**åŸå› **ï¼šæ— å‘å›¾å¿…é¡»ä½¿ç”¨ `--` è¿æ¥ç¬¦ï¼Œ`->` æ˜¯æœ‰å‘å›¾ä¸“ç”¨çš„ã€‚

### é”™è¯¯ 2: å¸ƒå±€å¼•æ“é€‰æ‹©ä¸å½“
**âŒ é”™è¯¯å†™æ³•**ï¼š
```dot
graph {
  layout=dot;  // dot é€‚åˆæœ‰å‘å›¾çš„å±‚æ¬¡å¸ƒå±€
  A -- B -- C;
}
```

**âœ… æ­£ç¡®å†™æ³•**ï¼š
```dot
graph {
  layout=neato;  // neato æ›´é€‚åˆæ— å‘å›¾
  A -- B -- C;
}
```

**åŸå› **ï¼šæ— å‘å›¾åº”ä¼˜å…ˆä½¿ç”¨ neatoã€circoã€fdp ç­‰ä¸“é—¨çš„æ— å‘å›¾å¸ƒå±€å¼•æ“ã€‚

### é”™è¯¯ 3: è¾¹çš„æ–¹å‘æ€§è¡¨è¾¾
**âŒ é”™è¯¯å†™æ³•**ï¼š
```dot
graph {
  A -- B [dir=forward];  // æ— å‘å›¾ä¸åº”æœ‰æ–¹å‘
}
```

**âœ… æ­£ç¡®å†™æ³•**ï¼š
```dot
graph {
  A -- B [label="è¿æ¥ç±»å‹"];  // ä½¿ç”¨æ ‡ç­¾è¯´æ˜å…³ç³»
}
```

**åŸå› **ï¼šæ— å‘å›¾çš„è¾¹æ˜¯å¯¹ç§°çš„ï¼Œä¸åº”è¯¥æœ‰æ–¹å‘æ€§ã€‚

### é”™è¯¯ 4: èŠ‚ç‚¹å¤§å°ä¸å½“
**âŒ é”™è¯¯å†™æ³•**ï¼š
```dot
graph {
  ä¸­å¿ƒèŠ‚ç‚¹ [shape=circle];  // ä¸­å¿ƒèŠ‚ç‚¹åº”è¯¥æ›´å¤§
  è¾¹ç¼˜èŠ‚ç‚¹ [shape=circle];
  ä¸­å¿ƒèŠ‚ç‚¹ -- è¾¹ç¼˜èŠ‚ç‚¹;
}
```

**âœ… æ­£ç¡®å†™æ³•**ï¼š
```dot
graph {
  ä¸­å¿ƒèŠ‚ç‚¹ [shape=circle, width=2, fillcolor="#ff6f00"];
  è¾¹ç¼˜èŠ‚ç‚¹ [shape=circle, width=1, fillcolor="#e3f2fd"];
  ä¸­å¿ƒèŠ‚ç‚¹ -- è¾¹ç¼˜èŠ‚ç‚¹;
}
```

**åŸå› **ï¼šä½¿ç”¨èŠ‚ç‚¹å¤§å°å’Œé¢œè‰²è¡¨è¾¾é‡è¦æ€§å’Œå±‚çº§ã€‚

### é”™è¯¯ 5: è¾¹çš„æƒé‡æœªä½“ç°
**âŒ é”™è¯¯å†™æ³•**ï¼š
```dot
graph {
  A -- B [label="é‡è¦è¿æ¥"];
  C -- D [label="æ™®é€šè¿æ¥"];
}
```

**âœ… æ­£ç¡®å†™æ³•**ï¼š
```dot
graph {
  A -- B [label="é‡è¦è¿æ¥", penwidth=3, color="#f44336"];
  C -- D [label="æ™®é€šè¿æ¥", penwidth=1];
}
```

**åŸå› **ï¼šä½¿ç”¨ `penwidth` å’Œé¢œè‰²è§†è§‰åŒ–åœ°è¡¨è¾¾è¾¹çš„æƒé‡æˆ–é‡è¦æ€§ã€‚

### é”™è¯¯ 6: å¯†é›†å›¾ç¼ºå°‘åˆ†ç»„
**âŒ é”™è¯¯å†™æ³•**ï¼š
```dot
graph {
  // 20 ä¸ªèŠ‚ç‚¹å…¨éƒ¨æ··åœ¨ä¸€èµ·
  A -- B; A -- C; A -- D; ...
}
```

**âœ… æ­£ç¡®å†™æ³•**ï¼š
```dot
graph {
  subgraph cluster_group1 {
    label="ç»„1";
    A; B; C;
  }
  subgraph cluster_group2 {
    label="ç»„2";
    D; E; F;
  }
  A -- D;
}
```

**åŸå› **ï¼šä½¿ç”¨å­å›¾åˆ†ç»„å¯ä»¥å¤§å¤§æé«˜å¤æ‚å›¾çš„å¯è¯»æ€§ã€‚

## ç”Ÿæˆæ£€æŸ¥æ¸…å•

ç”Ÿæˆä»£ç åï¼Œé€é¡¹æ£€æŸ¥ï¼š

### ç½‘ç»œæ‹“æ‰‘æ£€æŸ¥æ¸…å•

**åŸºç¡€ç»“æ„**:
- [ ] ä½¿ç”¨graphå£°æ˜(æ— å‘å›¾)
- [ ] è®¾å¤‡å½¢çŠ¶ç¬¦åˆæ˜ å°„è¡¨è§„èŒƒ
- [ ] è¿æ¥å…³ç³»ä½¿ç”¨ -- (é ->)

**æ€§èƒ½ä¼˜åŒ–**:
- [ ] èŠ‚ç‚¹>50: è€ƒè™‘neato/fdpå¼•æ“
- [ ] èŠ‚ç‚¹>100: å¿…é¡»sfdpå¼•æ“
- [ ] å¤§è§„æ¨¡ç½‘ç»œ: splines=false

**è¯­ä¹‰è¡¨è¾¾**:
- [ ] penwidthä½“ç°å¸¦å®½å·®å¼‚
- [ ] labelæ ‡æ³¨é“¾è·¯é€Ÿç‡
- [ ] é¢œè‰²åŒºåˆ†è®¾å¤‡ç±»å‹/åŒºåŸŸ

**ä¸“ä¸šè§„èŒƒ**:
- [ ] æ ¸å¿ƒå±‚åœ¨å›¾ä¸­å¤®
- [ ] åŒå±‚è®¾å¤‡å¯¹é½(rank=same)
- [ ] å†—ä½™è¿æ¥æ¸…æ™°å¯è§
- [ ] å¤–éƒ¨è¿æ¥ç”¨cloudå½¢çŠ¶

**é€šç”¨æ£€æŸ¥**:
- [ ] **å›¾ç±»å‹æ­£ç¡®**ï¼šä½¿ç”¨ `graph` å£°æ˜æ— å‘å›¾
- [ ] **è¿æ¥ç¬¦æ­£ç¡®**ï¼šæ‰€æœ‰è¾¹ä½¿ç”¨ `--` è€Œé `->`
- [ ] **å¸ƒå±€å¼•æ“åˆé€‚**ï¼šä½¿ç”¨ neato/circo/fdp/twopi ç­‰æ— å‘å›¾å¼•æ“
- [ ] **èŠ‚ç‚¹å¤§å°åŒºåˆ†**ï¼šé‡è¦èŠ‚ç‚¹ä½¿ç”¨æ›´å¤§çš„å°ºå¯¸
- [ ] **è¾¹æƒé‡ä½“ç°**ï¼šä½¿ç”¨ penwidth æˆ–é¢œè‰²è¡¨è¾¾æƒé‡
- [ ] **åˆ†ç»„æ¸…æ™°**ï¼šå¤æ‚å›¾ä½¿ç”¨å­å›¾åˆ†ç»„
- [ ] **é¢œè‰²è¯­ä¹‰åŒ–**ï¼šç›¸åŒç±»å‹çš„èŠ‚ç‚¹ä½¿ç”¨ç›¸åŒé¢œè‰²
- [ ] **æ ‡ç­¾æ¸…æ™°**ï¼šå…³ç³»ç±»å‹ç”¨æ ‡ç­¾è¯´æ˜
- [ ] **ä»£ç å¯æ¸²æŸ“**ï¼šè¯­æ³•æ­£ç¡®ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ Kroki æ¸²æŸ“

**ä»»ä½•æ£€æŸ¥é¡¹ä¸é€šè¿‡ï¼Œç«‹å³ä¿®æ­£åé‡æ–°ç”Ÿæˆ**
