# ============================================
# L3 类型层 - Mermaid Timeline v1.0.0
# ============================================

[meta]
level = "L3"
language = "mermaid"
diagram_type = "timeline"
version = "1.0.0"
description = "Mermaid 时间线规范"
author = "DiagramAI Team"
created_at = "2025-10-19"
updated_at = "2025-10-19"

# 可选元数据
complexity = "medium"
target_length = 2600
use_cases = ["历史事件展示", "产品发展历程", "项目里程碑", "公司发展史"]

# ============================================
# Section 1: D 角色定义 (Role Definition)
# ============================================

[D_role]
additional_roles = [
  "时间线设计专家 - 理解事件的时间顺序和历史意义",
  "Mermaid Timeline 工程师 - 精通时间线语法和事件分组规范"
]

# ============================================
# Section 2: E 约束条件 (Constraints)
# ============================================

[E_constraints]
items = [
  """
  **图表声明**: 时间线必须使用 `timeline` 关键字开始:
  - 图表声明: `timeline`
  - 标题: `title 时间线标题`（可选）
  - 示例: `timeline\n    title 公司发展历程`
  """,

  """
  **时间段定义**: 使用时间段（Period）组织事件:
  - 语法: 单独一行定义时间段，无缩进
  - 示例: `2020年`、`2021年第一季度`、`第一阶段`
  - 时间段后必须紧跟至少一个事件（带缩进）
  - 时间段应按时间顺序排列（从早到晚或从晚到早）
  """,

  """
  **事件定义格式**: 事件必须缩进，位于时间段下方:
  - 语法: `    事件名称 : 事件描述`（4 个空格缩进）
  - 仅事件名: `    产品发布`（无冒号，显示单行）
  - 带描述: `    产品发布 : 推出 V1.0 版本`（显示名称和描述）
  - 多行事件: 同一时间段下可有多个事件（每行一个）
  """,

  """
  **事件描述规范**: 事件可以包含名称和描述:
  - 名称（必需）: 事件的主标题（冒号前）
  - 描述（可选）: 事件的详细说明（冒号后）
  - 简洁原则: 每个事件控制在 1-2 行内
  - 关键信息: 突出核心事件和里程碑
  """,

  """
  **时间顺序**: 时间段和事件应按逻辑顺序排列:
  - 时间线通常从早到晚（或从晚到早）
  - 时间段应有明确的时间标识（年份、季度、阶段等）
  - 事件在同一时间段内可按重要性或发生顺序排列
  - 保持时间流的连续性
  """,

  """
  **分组和层级**: 时间线支持二级结构:
  - 一级: 时间段（Period）
  - 二级: 事件（Event）
  - 不支持三级嵌套
  - 每个时间段至少包含一个事件
  """,

  """
  **缩进规范**: 严格遵守缩进规则:
  - 时间段: 无缩进
  - 事件: 4 个空格缩进
  - 错误缩进会导致解析失败
  - 使用空格而非 Tab 字符
  """
]

# ============================================
# Section 3: P 流程规范 (Process)
# ============================================

[P_process]
items = [
  """
  **1. 识别时间范围和阶段**:
  - 确定时间线的起止时间
  - 划分合理的时间段（年、季度、月、阶段）
  - 时间段粒度应一致（如都用年份，或都用季度）
  - 标记时间线标题（使用 `title`）
  """,

  """
  **2. 提取关键事件**:
  - 识别每个时间段的重要事件
  - 筛选具有代表性的里程碑
  - 确定事件的名称和描述
  - 按时间顺序组织事件
  """,

  """
  **3. 设计时间线结构**:
  - 按时间顺序排列时间段
  - 在每个时间段下添加事件（带缩进）
  - 事件名称简洁明了
  - 必要时添加事件描述（使用冒号）
  """,

  """
  **4. 优化事件描述**:
  - 事件名称控制在 3-10 个字
  - 描述补充关键信息（数据、成果、影响）
  - 突出里程碑事件
  - 保持描述风格一致
  """,

  """
  **5. 生成前检查**:
  - 时间段无缩进，事件有 4 空格缩进
  - 每个时间段至少有一个事件
  - 时间顺序正确（通常从早到晚）
  - 事件描述简洁清晰
  """
]

# ============================================
# Section 4: H 质量标准 (Quality Standards)
# ============================================

[H_quality]
items = [
  """
  **缩进正确性**:
  - 时间段无缩进
  - 事件统一使用 4 个空格缩进
  - 使用空格而非 Tab 字符
  - 缩进错误会导致解析失败
  """,

  """
  **结构完整性**:
  - 每个时间段至少包含一个事件
  - 时间段和事件的层级关系正确
  - 不存在三级嵌套
  - 时间段按时间顺序排列
  """,

  """
  **事件描述清晰**:
  - 事件名称简洁明了（3-10 字）
  - 描述补充关键信息（可选）
  - 格式一致（统一使用或不使用冒号描述）
  - 突出里程碑事件
  """,

  """
  **时间线逻辑性**:
  - 时间段有明确的时间标识
  - 时间顺序合理（通常从早到晚）
  - 事件具有代表性和重要性
  - 覆盖完整的时间范围
  """
]
