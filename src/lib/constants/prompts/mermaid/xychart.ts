/**
 * L3: Mermaid XY Chart 生成提示词
 *
 * 作用：定义 Mermaid XY 图表的生成规则、示例和最佳实践
 * Token 预算：700-900 tokens
 * 图表类型：Mermaid XY Chart（XY 图表）
 *
 * 用途：表示数据趋势、对比分析、时间序列
 *
 * @example
 * 用户输入："绘制月度营收趋势图"
 * 输出：完整的 Mermaid XY Chart 代码
 */

export const MERMAID_XYCHART_PROMPT = `
# Mermaid XY Chart 生成要求

## 专家视角

作为 XY 图表专家，你需要同时扮演：

1. **数据可视化专家** - 理解数据趋势和对比关系的最佳展示方式
2. **Mermaid XYChart 工程师** - 精通 xychart-beta 语法和数据系列定义
3. **代码质量审查员** - 确保数据准确、图表类型合适

## 核心语法

### 图表声明和坐标轴
\`\`\`mermaid
xychart-beta
    title "标题"
    x-axis [分类1, 分类2, 分类3]
    y-axis "Y 轴标签" 最小值 --> 最大值
    line [值1, 值2, 值3]
    bar [值1, 值2, 值3]
\`\`\`

**图表类型**：
- \`line\`: 折线图（趋势分析）
- \`bar\`: 柱状图（对比分析）
- 可以在同一图表中混合使用

### 多数据系列
\`\`\`mermaid
xychart-beta
    x-axis [Q1, Q2, Q3, Q4]
    line "产品A" [10, 20, 30, 40]
    line "产品B" [15, 25, 35, 45]
\`\`\`

## 生成示例

### 示例 1: 月度营收趋势
**用户需求**：展示公司过去 6 个月的营收变化

**生成代码**：
\`\`\`mermaid
xychart-beta
    title "月度营收趋势"
    x-axis [1月, 2月, 3月, 4月, 5月, 6月]
    y-axis "营收（万元）" 0 --> 500
    line "实际营收" [320, 280, 350, 420, 380, 450]
    line "目标营收" [300, 300, 350, 400, 400, 450]
\`\`\`

**关键点**：
- 使用 \`line\` 展示趋势
- 多条线对比实际与目标
- Y 轴范围设置合理
- X 轴标签清晰

### 示例 2: 产品销量对比
**用户需求**：对比不同产品的季度销量

**生成代码**：
\`\`\`mermaid
xychart-beta
    title "产品季度销量对比"
    x-axis [Q1, Q2, Q3, Q4]
    y-axis "销量（台）" 0 --> 1000
    bar "产品A" [650, 720, 680, 850]
    bar "产品B" [480, 520, 590, 640]
    bar "产品C" [320, 380, 420, 480]
\`\`\`

**关键点**：
- 使用 \`bar\` 便于对比
- 多个数据系列并排显示
- 数据值数量与 X 轴一致

### 示例 3: 混合图表（线+柱）
**用户需求**：展示销售额和增长率

**生成代码**：
\`\`\`mermaid
xychart-beta
    title "销售额与增长率"
    x-axis [Q1, Q2, Q3, Q4]
    y-axis "数值" 0 --> 500
    bar "销售额（万）" [300, 350, 420, 480]
    line "增长率（%）" [10, 17, 20, 14]
\`\`\`

**关键点**：
- 柱状图表示绝对值
- 折线图表示相对值或趋势
- 注意 Y 轴刻度适配

## 常见错误

### 错误 1: 数据数量不匹配
**❌ 错误写法**：
\`\`\`mermaid
xychart-beta
    x-axis [Q1, Q2, Q3]
    line [10, 20]    %% 数据只有 2 个
\`\`\`

**✅ 正确写法**：
\`\`\`mermaid
xychart-beta
    x-axis [Q1, Q2, Q3]
    line [10, 20, 30]
\`\`\`

**原因**：数据数量必须与 X 轴分类数量一致。

### 错误 2: Y 轴范围设置不合理
**❌ 错误写法**：
\`\`\`mermaid
xychart-beta
    y-axis 0 --> 10
    line [100, 200, 300]    %% 数据超出范围
\`\`\`

**✅ 正确写法**：
\`\`\`mermaid
xychart-beta
    y-axis 0 --> 350
    line [100, 200, 300]
\`\`\`

**原因**：Y 轴范围应覆盖所有数据值。

### 错误 3: 缺少 X 轴定义
**❌ 错误写法**：
\`\`\`mermaid
xychart-beta
    line [10, 20, 30]
\`\`\`

**✅ 正确写法**：
\`\`\`mermaid
xychart-beta
    x-axis [A, B, C]
    line [10, 20, 30]
\`\`\`

**原因**：必须定义 X 轴分类。

### 错误 4: 数据系列命名缺少引号
**❌ 错误写法**：
\`\`\`mermaid
xychart-beta
    line 产品A [10, 20, 30]    %% 中文名称未加引号
\`\`\`

**✅ 正确写法**：
\`\`\`mermaid
xychart-beta
    line "产品A" [10, 20, 30]
\`\`\`

**原因**：数据系列名称应使用双引号包裹（特别是中文）。

## 生成检查清单

- [ ] **图表声明正确**：使用 \`xychart-beta\`
- [ ] **X 轴定义**：\`x-axis [分类1, 分类2, ...]\`
- [ ] **Y 轴范围合理**：覆盖所有数据值
- [ ] **数据数量一致**：与 X 轴分类数量相同
- [ ] **图表类型合适**：\`line\` 或 \`bar\` 选择恰当
- [ ] **系列名称有引号**：使用双引号包裹名称
- [ ] **代码可渲染**：语法正确

**任何检查项不通过，立即修正后重新生成**
`;

/**
 * Token 估算: 约 800 tokens
 */

