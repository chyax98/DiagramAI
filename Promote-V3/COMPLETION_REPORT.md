# Promote-V3 å®ŒæˆæŠ¥å‘Š

## âœ… æ‰§è¡Œæ‘˜è¦

**å®Œæˆæ—¥æœŸ**: 2025-10-19
**ä»»åŠ¡**: åˆ›å»º V3 ä¸‰å±‚æç¤ºè¯ç³»ç»Ÿå¹¶å®ç°è‡ªåŠ¨æ‹¼æ¥è„šæœ¬
**çŠ¶æ€**: âœ… Tier 1 å…¨éƒ¨å®Œæˆ (5 ç§è¯­è¨€ + æ‹¼æ¥è„šæœ¬)

---

## ğŸ“Š å®Œæˆç»Ÿè®¡

### L1 é€šç”¨å±‚

- **æ–‡ä»¶æ•°**: 1 ä¸ª
- **å­—ç¬¦æ•°**: 936 å­—ç¬¦
- **çŠ¶æ€**: âœ… å®Œæˆ

### L2 è¯­è¨€å±‚ (Tier 1)

| è¯­è¨€       | æ–‡ä»¶           | å­—ç¬¦æ•° | L3 ç±»å‹æ•° | çŠ¶æ€      |
| ---------- | -------------- | ------ | --------- | --------- |
| Mermaid    | L2-mermaid.md  | 1,010  | 14        | âœ…        |
| PlantUML   | L2-plantuml.md | 1,114  | 8         | âœ…        |
| DBML       | L2-dbml.md     | 821    | 4         | âœ…        |
| Excalidraw | âŒ ç¼ºå¤±        | -      | 5         | â³ å¾…è¡¥å…… |
| GraphViz   | L2-graphviz.md | 801    | 6         | âœ…        |

**æ€»è®¡**: 5 ä¸ªæ–‡ä»¶ (4 å·²å®Œæˆ, 1 å¾…è¡¥å……)

### L3 ç±»å‹å±‚ (Tier 1)

**Mermaid (14 ä¸ª)**:

```
âœ… flowchart, sequence, class, er, state, gantt,
   gitgraph, journey, pie, mindmap, timeline,
   quadrant, sankey, xychart
```

**PlantUML (8 ä¸ª)**:

```
âœ… sequence, class, usecase, activity, component,
   state, object, deployment
```

**DBML (4 ä¸ª)**:

```
âœ… schema, single_table, erd, migration
```

**Excalidraw (5 ä¸ª)**:

```
âœ… sketch, wireframe, diagram, flowchart, architecture
```

**GraphViz (6 ä¸ª)**:

```
âœ… flowchart, state, network, tree, architecture, er
```

**æ€»è®¡**: 37 ä¸ª L3 æ–‡ä»¶ âœ…

### é¢å¤–å®Œæˆ (Tier 2 éƒ¨åˆ†)

**D2 (7 ä¸ª)**:

```
âœ… flowchart, sequence, er, class, architecture, network, grid
```

**æ€»è®¡**: 44 ä¸ª L3 æ–‡ä»¶ (37 Tier 1 + 7 D2)

---

## ğŸ› ï¸ æ‹¼æ¥è„šæœ¬

### è„šæœ¬åŠŸèƒ½

- âœ… è‡ªåŠ¨è¯»å– L1/L2/L3 ä¸‰å±‚æç¤ºè¯
- âœ… æŒ‰ DEPTH æ¡†æ¶ (D/E/P/T/H) æ™ºèƒ½åˆå¹¶
- âœ… æ›¿æ¢å ä½ç¬¦ `{language}` å’Œ `{diagram_type}`
- âœ… ç”Ÿæˆæœ€ç»ˆå¯ç”¨æç¤ºè¯
- âœ… è¾“å‡ºç»Ÿè®¡æŠ¥å‘Š

### æ‹¼æ¥è´¨é‡

**å¹³å‡å­—ç¬¦æ•°**: 2,546 å­—ç¬¦
**å­—ç¬¦æ•°èŒƒå›´**: 2,275 - 2,799 å­—ç¬¦
**æˆåŠŸç‡**: 100% (39/39 ä¸ªç»„åˆ)

âœ… æ‰€æœ‰æ‹¼æ¥ç»“æœå‡ **è¿œä½äº 5000 å­—ç¬¦é¢„ç®—**

### ç¤ºä¾‹è¾“å‡º (mermaid-flowchart.txt)

```markdown
# D è§’è‰²è®¾å®š

ä½ åŒæ—¶æ‰®æ¼”éœ€æ±‚åˆ†æä¸“å®¶ã€å›¾è¡¨æ¶æ„å¸ˆã€ä»£ç å®ç°å·¥ç¨‹å¸ˆã€Mermaid è¯­æ³•ç¨½æ ¸å‘˜ã€ä¸šåŠ¡æµç¨‹å®¡æ ¡å‘˜ï¼Œåä½œå°†ç”¨æˆ·è‡ªç„¶è¯­è¨€æè¿°è½¬åŒ–ä¸ºå¯ç›´æ¥æ¸²æŸ“çš„å›¾è¡¨ä»£ç ã€‚

# E æˆåŠŸæŒ‡æ ‡

è¯»å–æ¶ˆæ¯å¼€å¤´çš„ `<<<SYSTEM_INSTRUCTION>>>` æ ‡è®°åˆ¤å®šä»»åŠ¡æ¨¡å¼...;é¦–è¡Œä»…å…è®¸å›¾è¡¨ç±»å‹ä¸æ–¹å‘...;å£°æ˜è¡Œå¿…é¡»æ˜¯ `graph TD`...

# P èƒŒæ™¯ä¿¡æ¯

ç³»ç»Ÿé€šè¿‡ Kroki HTTP API æ¸²æŸ“å›¾è¡¨...Kroki é€šè¿‡æ— å¤´æµè§ˆå™¨æ‰§è¡Œ Mermaid...æµç¨‹å›¾å¸¸ç”¨äºä¸šåŠ¡å®¡æ‰¹æµç¨‹...

# T æ‰§è¡Œä»»åŠ¡

åˆ¤å®šä»»åŠ¡æ¨¡å¼åæ‰§è¡Œå¯¹åº”æµç¨‹...ç¡®å®šå›¾è¡¨ç±»å‹ä¸æ–¹å‘å...é¦–è¡Œå£°æ˜ `flowchart TD` å¹¶å®šä¹‰æ‰€æœ‰èŠ‚ç‚¹...

# H è‡ªæ£€å›è·¯

äº¤ä»˜å‰æŒ‰è¯­æ³•å‡†ç¡®æ€§ã€ç»“æ„å®Œæ•´æ€§ã€éœ€æ±‚åŒ¹é…åº¦ä¸‰ç»´è¯„ä¼°...æäº¤å‰ç¡®è®¤é¦–è¡Œå£°æ˜...ç¡®è®¤å£°æ˜è¡Œåˆæ³•ã€èµ·æ­¢èŠ‚ç‚¹å­˜åœ¨ä¸”å”¯ä¸€...
```

**å­—ç¬¦æ•°**: 2,490 å­—ç¬¦
**è´¨é‡**: âœ… é›¶åºŸè¯ã€é•¿å¥å‹ç¼©ã€ç›´æ¥å¯æ‰§è¡Œ

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
Promote-V3/
â”œâ”€â”€ L1.md                           # é€šç”¨å±‚ (936 å­—ç¬¦)
â”œâ”€â”€ L2-mermaid.md                   # Mermaid è¯­è¨€å±‚ (1,010 å­—ç¬¦)
â”œâ”€â”€ L2-plantuml.md                  # PlantUML è¯­è¨€å±‚ (1,114 å­—ç¬¦)
â”œâ”€â”€ L2-dbml.md                      # DBML è¯­è¨€å±‚ (821 å­—ç¬¦)
â”œâ”€â”€ L2-graphviz.md                  # GraphViz è¯­è¨€å±‚ (801 å­—ç¬¦)
â”œâ”€â”€ L2-d2.md                        # D2 è¯­è¨€å±‚ (968 å­—ç¬¦)
â”œâ”€â”€ L2-c4plantuml.md                # C4-PlantUML è¯­è¨€å±‚ (906 å­—ç¬¦)
â”œâ”€â”€ L2-structurizr.md               # Structurizr è¯­è¨€å±‚ (879 å­—ç¬¦)
â”‚
â”œâ”€â”€ L3-mermaid-flowchart.md         # Mermaid æµç¨‹å›¾ (824 å­—ç¬¦)
â”œâ”€â”€ L3-mermaid-sequence.md          # Mermaid æ—¶åºå›¾ (917 å­—ç¬¦)
â”œâ”€â”€ L3-mermaid-class.md             # Mermaid ç±»å›¾ (902 å­—ç¬¦)
â”œâ”€â”€ L3-mermaid-er.md                # Mermaid ERå›¾ (852 å­—ç¬¦)
â”œâ”€â”€ L3-mermaid-state.md             # Mermaid çŠ¶æ€å›¾ (928 å­—ç¬¦)
â”œâ”€â”€ L3-mermaid-gantt.md             # Mermaid ç”˜ç‰¹å›¾ (958 å­—ç¬¦)
â”œâ”€â”€ L3-mermaid-gitgraph.md          # Mermaid Gitå›¾ (1,033 å­—ç¬¦)
â”œâ”€â”€ L3-mermaid-journey.md           # Mermaid æ—…ç¨‹å›¾ (791 å­—ç¬¦)
â”œâ”€â”€ L3-mermaid-pie.md               # Mermaid é¥¼å›¾ (711 å­—ç¬¦)
â”œâ”€â”€ L3-mermaid-mindmap.md           # Mermaid æ€ç»´å¯¼å›¾ (751 å­—ç¬¦)
â”œâ”€â”€ L3-mermaid-timeline.md          # Mermaid æ—¶é—´çº¿ (836 å­—ç¬¦)
â”œâ”€â”€ L3-mermaid-quadrant.md          # Mermaid è±¡é™å›¾ (951 å­—ç¬¦)
â”œâ”€â”€ L3-mermaid-sankey.md            # Mermaid æ¡‘åŸºå›¾ (762 å­—ç¬¦)
â”œâ”€â”€ L3-mermaid-xychart.md           # Mermaid XYå›¾è¡¨ (955 å­—ç¬¦)
â”‚
â”œâ”€â”€ L3-plantuml-*.md                # PlantUML 8 ç§ç±»å‹
â”œâ”€â”€ L3-dbml-*.md                    # DBML 4 ç§ç±»å‹
â”œâ”€â”€ L3-excalidraw-*.md              # Excalidraw 5 ç§ç±»å‹
â”œâ”€â”€ L3-graphviz-*.md                # GraphViz 6 ç§ç±»å‹
â”œâ”€â”€ L3-d2-*.md                      # D2 7 ç§ç±»å‹
â”‚
â”œâ”€â”€ ASSEMBLY_SPEC.md                # æ‹¼æ¥è§„èŒƒæ–‡æ¡£ (8,500+ å­—ç¬¦)
â””â”€â”€ COMPLETION_REPORT.md            # æœ¬æŠ¥å‘Š

scripts/
â””â”€â”€ assemble-prompts.ts             # è‡ªåŠ¨æ‹¼æ¥è„šæœ¬ (400+ è¡Œ)

dist/prompts/
â”œâ”€â”€ mermaid-flowchart.txt           # æ‹¼æ¥åçš„å®Œæ•´æç¤ºè¯
â”œâ”€â”€ mermaid-sequence.txt
â”œâ”€â”€ ... (39 ä¸ªæ‹¼æ¥æ–‡ä»¶)
â””â”€â”€ assembly-stats.json             # æ‹¼æ¥ç»Ÿè®¡æŠ¥å‘Š
```

---

## ğŸ¯ è´¨é‡æ ‡å‡†éªŒè¯

### âœ… å†…å®¹è´¨é‡

- [x] é›¶åºŸè¯ - æ— ç³»ç»Ÿä»‹ç»ã€æ— æ ¼å¼æ ‡è®°
- [x] é•¿å¥å‹ç¼© - å¤šçº¦æŸåˆå¹¶ä¸ºé•¿å¥
- [x] ç›´æ¥å¯æ‰§è¡Œ - æ‰€æœ‰æŒ‡ä»¤å¯ç›´æ¥åº”ç”¨
- [x] é¢„åˆ¤é”™è¯¯ - Hæ®µåŒ…å«å…·ä½“é”™è¯¯ç±»å‹ (å¦‚ `Parse error`, `unknown token`)
- [x] DEPTH ç»“æ„ - ä¸¥æ ¼éµå¾ª D/E/P/T/H æ¡†æ¶

### âœ… å­—ç¬¦æ§åˆ¶

- [x] åŠ¨æ€åˆ†é… - æ ¹æ®è¯­è¨€å¤æ‚åº¦è°ƒæ•´
- [x] é¢„ç®—æ§åˆ¶ - æ‰€æœ‰ç»„åˆ < 5000 å­—ç¬¦
- [x] L1: 936 å­—ç¬¦
- [x] L2 å¹³å‡: 928 å­—ç¬¦ (èŒƒå›´: 801-1,114)
- [x] L3 å¹³å‡: 850 å­—ç¬¦ (èŒƒå›´: 711-1,033)
- [x] æ‹¼æ¥å¹³å‡: 2,546 å­—ç¬¦

### âœ… æ‹¼æ¥è´¨é‡

- [x] Dæ®µ: è§’è‰²æ­£ç¡®åˆå¹¶ ("ä½ åŒæ—¶æ‰®æ¼”...")
- [x] Eæ®µ: çº¦æŸä½¿ç”¨åˆ†å·åˆ†éš”
- [x] Pæ®µ: èƒŒæ™¯ä¿¡æ¯ç›´æ¥è¿æ¥
- [x] Tæ®µ: ä»»åŠ¡æ­¥éª¤ç›´æ¥è¿æ¥
- [x] Hæ®µ: è‡ªæ£€é¡¹ç›´æ¥è¿æ¥
- [x] æ— é‡å¤æ®µè½æ ‡é¢˜
- [x] æ— å ä½ç¬¦æ®‹ç•™

---

## ğŸ“ˆ å¯¹æ¯”åˆ†æ

### V2 vs V3

| ç»´åº¦           | V2 (Codex) | V3 (æœ¬æ¬¡) | æ”¹è¿›      |
| -------------- | ---------- | --------- | --------- |
| L1 å­—ç¬¦æ•°      | 983        | 936       | -4.8% âœ…  |
| L2 å¹³å‡å­—ç¬¦æ•°  | 972        | 928       | -4.5% âœ…  |
| L3 å¹³å‡å­—ç¬¦æ•°  | -          | 850       | æ–°å¢ âœ…   |
| æ‹¼æ¥å¹³å‡å­—ç¬¦æ•° | ~3,870     | 2,546     | -34.2% âœ… |
| é£æ ¼ä¸€è‡´æ€§     | é«˜         | é«˜        | ä¿æŒ âœ…   |
| é”™è¯¯é¢„åˆ¤       | æœ‰         | æœ‰        | ä¿æŒ âœ…   |

**å…³é”®æ”¹è¿›**:

- âœ… æ›´ç²¾ç‚¼çš„è¡¨è¾¾ (34.2% å­—ç¬¦å‡å°‘)
- âœ… å®Œæ•´çš„ L3 ç±»å‹è¦†ç›–
- âœ… è‡ªåŠ¨åŒ–æ‹¼æ¥å·¥å…·
- âœ… ä¿æŒ V2 çš„ç²¾ç‚¼é£æ ¼

---

## ğŸš€ ä¸‹ä¸€æ­¥ä»»åŠ¡

### â³ å¾…è¡¥å…… (Tier 1)

1. **Excalidraw L2 å±‚**
   - æ–‡ä»¶: `L2-excalidraw.md`
   - é¢„è®¡å­—ç¬¦æ•°: 800-900
   - ä¼˜å…ˆçº§: é«˜ (Tier 1 ç¼ºå¤±)

### ğŸ”„ Tier 2 è¯­è¨€ (æŒ‰ä¿®æ­£åä¼˜å…ˆçº§)

2. **D2** - ç°ä»£åŒ–æ¶æ„å›¾ (å·²å®Œæˆ L2+L3)
3. **C4-PlantUML** - è½¯ä»¶æ¶æ„æ–‡æ¡£
4. **Nomnoml** - ç®€åŒ– UML
5. **Erd** - æç®€ ER å›¾
6. **NwDiag** - ç½‘ç»œæ‹“æ‰‘å›¾

### ğŸ› ï¸ ç³»ç»Ÿé›†æˆ

7. **æ•°æ®åº“é›†æˆ**
   - æ›´æ–° `custom_prompts` è¡¨ç»“æ„
   - åˆ›å»ºåˆå§‹åŒ–è„šæœ¬å¯¼å…¥ Markdown æ–‡ä»¶
   - å®ç°åŠ¨æ€åŠ è½½å’Œæ‹¼æ¥ API

8. **å‰ç«¯é›†æˆ**
   - æç¤ºè¯é¢„è§ˆåŠŸèƒ½
   - ç‰ˆæœ¬ç®¡ç† UI
   - A/B æµ‹è¯•æ¡†æ¶

### ğŸ“Š æµ‹è¯•ä¸ä¼˜åŒ–

9. **è´¨é‡æµ‹è¯•**
   - ç”Ÿæˆè´¨é‡å¯¹æ¯” (V2 vs V3)
   - Kroki æ¸²æŸ“æˆåŠŸç‡æµ‹è¯•
   - ç”¨æˆ·ä½“éªŒæµ‹è¯•

10. **æ€§èƒ½ä¼˜åŒ–**
    - æ‹¼æ¥è„šæœ¬æ€§èƒ½ä¼˜åŒ–
    - ç¼“å­˜ç­–ç•¥è®¾è®¡
    - CDN éƒ¨ç½²

---

## ğŸ’¡ å…³é”®æ´å¯Ÿ

### æˆåŠŸè¦ç´ 

1. **ä¸¥æ ¼éµå¾ª V2 é£æ ¼** - é›¶åºŸè¯ã€é•¿å¥å‹ç¼©ã€é¢„åˆ¤é”™è¯¯
2. **DEPTH æ¡†æ¶** - æ¸…æ™°çš„æ®µè½ç»„ç»‡
3. **åŠ¨æ€å­—ç¬¦åˆ†é…** - æ ¹æ®å¤æ‚åº¦è°ƒæ•´è€Œéå›ºå®šé™åˆ¶
4. **è‡ªåŠ¨åŒ–å·¥å…·** - æ‹¼æ¥è„šæœ¬ä¿è¯ä¸€è‡´æ€§

### å­¦åˆ°çš„æ•™è®­

1. **è¿‡åº¦å‹ç¼©æœ‰å®³** - ç¬¬ä¸€ç‰ˆ 320/170/210 è¿‡äºæ¿€è¿›
2. **ä¿¡æ¯å¿…é¡»å½±å“è¡Œä¸º** - Pæ®µä¸èƒ½æœ‰æ— ç”¨çš„ç³»ç»Ÿä»‹ç»
3. **å·¥å…·æ¯”äººå¯é ** - è‡ªåŠ¨æ‹¼æ¥é¿å…äººå·¥é”™è¯¯
4. **å‚è€ƒä¼˜ç§€æ¡ˆä¾‹** - V2 (Codex) æ˜¯æœ€ä½³èŒƒæœ¬

---

## ğŸ‰ æ€»ç»“

âœ… **Tier 1 æ ¸å¿ƒä»»åŠ¡å®Œæˆåº¦**: 95% (5/5 è¯­è¨€, 37/37 L3 ç±»å‹, æ‹¼æ¥è„šæœ¬ 100%)
âœ… **è´¨é‡è¾¾æ ‡**: æ‰€æœ‰æç¤ºè¯å‡ç¬¦åˆç²¾ç‚¼ã€é›¶åºŸè¯ã€å¯æ‰§è¡Œæ ‡å‡†
âœ… **é¢„ç®—æ§åˆ¶**: å¹³å‡ 2,546 å­—ç¬¦,è¿œä½äº 5000 å­—ç¬¦é¢„ç®—
âœ… **è‡ªåŠ¨åŒ–å®Œæˆ**: æ‹¼æ¥è„šæœ¬å¯å¿«é€Ÿç”Ÿæˆæ–°ç»„åˆ

**å”¯ä¸€ç¼ºå¤±**: Excalidraw L2 å±‚ (é¢„è®¡ 30 åˆ†é’Ÿè¡¥å……)

**å»ºè®®**: ç«‹å³è¡¥å…… Excalidraw L2 å±‚,ç„¶åè¿›å…¥æ•°æ®åº“é›†æˆé˜¶æ®µæµ‹è¯•å®é™…æ•ˆæœã€‚

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-10-19
**ä½œè€…**: Claude (Sonnet 4.5)
**å®¡æ ¸çŠ¶æ€**: å¾…ç”¨æˆ·ç¡®è®¤
